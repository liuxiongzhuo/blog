<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.141.0"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>0031400&#39;s blog</title>
<meta name="keywords" content="blog">
<meta name="description" content="outgoing student">
<meta name="author" content="0031400">
<link rel="canonical" href="/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="/index.xml">
<link rel="alternate" hreflang="en" href="/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="/">
  <meta property="og:site_name" content="0031400&#39;s blog">
  <meta property="og:title" content="0031400&#39;s blog">
  <meta property="og:description" content="outgoing student">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="0031400&#39;s blog">
<meta name="twitter:description" content="outgoing student">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "0031400's blog",
  "url": "/",
  "description": "outgoing student",
  "logo": "/favicon.ico",
  "sameAs": [
      
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="0031400&#39;s blog (Alt + H)">0031400&#39;s blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>Hi there ğŸ‘‹</h1>
    </header>
    <div class="entry-content">
        Welcome to my blog
    </div>
    <footer class="entry-footer">
        <div class="social-icons" >
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">onedrive google å›¾åºŠ
    </h2>
  </header>
  <div class="entry-content">
    <p>èµ·å›  onedrive å’Œ google äº‘ç›˜çš„åˆ†äº«é“¾æ¥éƒ½å¯ä»¥è®¾ç½®ä»»ä½•äººå¯æŸ¥çœ‹,ä¸”ä¸éœ€è¦ç™»å½•,äºæ˜¯å¯ä»¥æŠŠè¿™ä¸ªä½œä¸ºä¸ªäººå›¾åºŠ
ä½¿ç”¨æ–¹æ³• è·å¾—åˆ†äº«é“¾æ¥,onedriveæå–å‡ºuseridå’Œfileid,googleäº‘ç›˜æå–å‡ºfileid,onedrive url /o/userid/fileid,googleäº‘ç›˜ /g/fileid,onedriveé»˜è®¤é™åˆ¶userid,å¡«å†™è‡ªå·±çš„userid,æˆ–è€…æ³¨é‡Šç›¸å…³ä»£ç 
åŸç† playwright æ— å¤´æ¸¸è§ˆå™¨
nginx åå‘ä»£ç† server { listen 80; listen [::]:80; server_name ä½ çš„åŸŸå; location / { proxy_pass https://spaceåŸŸå ; proxy_ssl_server_name on; proxy_set_header Host spaceåŸŸå ; } } cloudflare ç¼“å­˜è§„åˆ™ ä¸»æœºåç­‰äº&#34;ä½ çš„åŸŸå&#34; ç¼“å­˜èµ„æ ¼=ç¬¦åˆç¼“å­˜æ¡ä»¶ è¾¹ç¼˜ TTL = 1 å¹´ æµè§ˆå™¨ TTL = 1 å¹´
æºç  const express = require(&#39;express&#39;); const axios = require(&#39;axios&#39;); const { chromium } = require(&#39;playwright&#39;); const fs = require(&#39;fs&#39;).promises; const path = require(&#39;path&#39;); const app = express(); const port = 3000; // å®šä¹‰å…è®¸çš„ user ID åˆ—è¡¨ (OneDrive) const ALLOWED_USER_IDS = [&#39;userid&#39;]; // Replace with your actual list // å…¬å…±å‡½æ•°ï¼šæ ¼å¼åŒ–å½“å‰æ—¶é—´ function getFormattedNow() { const now = new Date(); const year = now.getFullYear(); const month = now.getMonth() &#43; 1; const day = now.getDate(); const hour = now.getHours(); const minute = now.getMinutes(); const second = now.getSeconds(); return `${year}å¹´${month}æœˆ${day}æ—¥${hour}æ—¶${minute}åˆ†${second}ç§’`; } // å…¬å…±å‡½æ•°ï¼šä¸‹è½½å›¾ç‰‡ (ä½¿ç”¨ Playwright) async function downloadImageWithPlaywright(url, svgSelector, time, id) { let browser; try { browser = await chromium.launch({ headless: true, args: [&#39;--no-sandbox&#39;, &#39;--disable-setuid-sandbox&#39;], }); const page = await browser.newPage(); await page.goto(url, { waitUntil: &#39;networkidle&#39; }); // await page.waitForTimeout(2000); // æ˜¾å¼ç­‰å¾…2ç§’ await page.click(svgSelector); const download = await page.waitForEvent(&#39;download&#39;); const imageBuffer = await download.createReadStream().then(stream =&gt; { return new Promise((resolve, reject) =&gt; { const chunks = []; stream.on(&#39;data&#39;, chunk =&gt; chunks.push(chunk)); stream.on(&#39;error&#39;, reject); stream.on(&#39;end&#39;, () =&gt; resolve(Buffer.concat(chunks))); }); }); return imageBuffer; } catch (error) { console.error(`${time} error ${id} Error downloading image with Playwright:`, error); return null; } finally { if (browser) { await browser.close(); } } } // å…¬å…±å‡½æ•°ï¼šä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ° async function saveImageToLocal(baseDir, filename, imageBuffer, time, id) { const dirPath = path.join(__dirname, baseDir, path.dirname(filename)); // ä¿®æ”¹ï¼šæ·»åŠ  path.dirname(filename) const filePath = path.join(__dirname, baseDir, filename); // ä¿®æ”¹ï¼šä½¿ç”¨å®Œæ•´çš„ filename try { try { await fs.access(dirPath); // æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨ } catch (error) { // ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒ await fs.mkdir(dirPath, { recursive: true }); // recursive: true å¯ä»¥åˆ›å»ºå¤šçº§ç›®å½• } await fs.writeFile(filePath, imageBuffer); } catch (error) { console.error(`${time} error ${id} Error saving image to local file:`, error); } } // OneDrive è·¯ç”± app.get(&#39;/o/:userid/:pictureid&#39;, async (req, res) =&gt; { const time = getFormattedNow(); const { userid, pictureid } = req.params; const filePath = path.join(__dirname, &#39;o&#39;, userid, `${pictureid}`); // æ£€æŸ¥ user ID æ˜¯å¦åœ¨å…è®¸çš„åˆ—è¡¨ä¸­ if (!ALLOWED_USER_IDS.includes(userid)) { console.log(`${time} userid not in ${userid}`); return res.status(404).send(&#39;&#39;); // Or 403 Forbidden } const baseOneDriveUrl = `https://1drv.ms/i/c/${userid}/${pictureid}`; const svgElementSelector = &#39;[aria-label=&#34;Download&#34;]&#39;; try { // 1. æ£€æŸ¥æœ¬åœ°æ–‡ä»¶æ˜¯å¦å­˜åœ¨ try { await fs.access(filePath); // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ console.log(`${time} ç¼“å­˜ OneDrive: ${userid}/${pictureid}`); const imageBuffer = await fs.readFile(filePath); res.writeHead(200, { &#39;Content-Disposition&#39;: &#39;inline&#39; }); res.end(imageBuffer); return; } catch (error) { // æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç»§ç»­ä» OneDrive ä¸‹è½½ } // 2. è·å–é‡å®šå‘åçš„ URL async function getRedirectedUrl(url, time, userid, pictureid) { try { const response = await axios.get(url, { maxRedirects: 0, validateStatus: null }); if (response.status === 404) { return &#34;404&#34;; // Indicate that the resource was not found } else if (response.status &gt;= 300 &amp;&amp; response.status &lt; 400 &amp;&amp; response.headers.location) { return response.headers.location; } else { console.error(`${time} error ${userid}/${pictureid} No redirect found. Status:`, response.status); return null; } } catch (error) { console.error(`${time} error ${userid}/${pictureid} Error getting redirected URL:`, error); return null; } } const redirectedUrl = await getRedirectedUrl(baseOneDriveUrl,time,userid,pictureid); if (redirectedUrl == &#34;404&#34;) { console.log(`${time} 404 ${userid}/${pictureid}`); return res.status(404).send(&#34;&#34;); } if (!redirectedUrl) { return res.status(500).send(&#39;&#39;); } // 3. ä½¿ç”¨ Playwright ä¸‹è½½å›¾ç‰‡ const imageBuffer = await downloadImageWithPlaywright(redirectedUrl, svgElementSelector, time, `${userid}/${pictureid}`); if (!imageBuffer) { return res.status(500).send(&#39;&#39;); } // 4. ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ° await saveImageToLocal(&#39;o&#39;, path.join(userid, `${pictureid}`), imageBuffer, time, `${userid}/${pictureid}`); // 5. è®¾ç½®å“åº”å¤´å¹¶å‘é€å›¾ç‰‡ res.writeHead(200, { &#39;Content-Disposition&#39;: &#39;inline&#39; }); console.log(`${time} æœªç¼“å­˜ OneDrive: ${userid}/${pictureid}`); res.end(imageBuffer); } catch (error) { console.error(`${time} error OneDrive: ${userid}/${pictureid}`, error); res.status(500).send(&#39;&#39;); } }); // Google Drive è·¯ç”± app.get(&#39;/g/:fileid&#39;, async (req, res) =&gt; { const time = getFormattedNow(); const { fileid } = req.params; const filePath = path.join(__dirname, &#39;g&#39;, `${fileid}`); // ä¿®æ”¹äº†è·¯å¾„ const baseGoogleDriveUrl = `https://drive.google.com/file/d/${fileid}/view?usp=sharing`; const svgElementSelector = &#39;[aria-label=&#34;Download&#34;]&#39;; try { // 1. æ£€æŸ¥æœ¬åœ°æ–‡ä»¶æ˜¯å¦å­˜åœ¨ try { await fs.access(filePath); console.log(`${time} ç¼“å­˜ Google Drive: ${fileid}`); const imageBuffer = await fs.readFile(filePath); res.writeHead(200, { &#39;Content-Disposition&#39;: &#39;inline&#39; }); res.end(imageBuffer); return; } catch (error) { // æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç»§ç»­ä» Google Drive ä¸‹è½½ } // 2. ä½¿ç”¨ Playwright ä¸‹è½½å›¾ç‰‡ const imageBuffer = await downloadImageWithPlaywright(baseGoogleDriveUrl, svgElementSelector, time, fileid); if (!imageBuffer) { return res.status(500).send(&#39;&#39;); } // 3. ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ° await saveImageToLocal(&#39;g&#39;, `${fileid}`, imageBuffer, time, fileid); // 4. è®¾ç½®å“åº”å¤´å¹¶å‘é€å›¾ç‰‡ res.writeHead(200, { &#39;Content-Disposition&#39;: &#39;inline&#39; }); console.log(`${time} æœªç¼“å­˜ Google Drive: ${fileid}`); res.end(imageBuffer); } catch (error) { console.error(`${time} error Google Drive: ${fileid}`, error); res.status(500).send(&#39;&#39;); } }); // å¯åŠ¨æœåŠ¡å™¨ app.listen(port, () =&gt; { console.log(`æœåŠ¡å¯åŠ¨ http://localhost:${port}`); }); Dockerfile FROM node RUN mkdir /app WORKDIR /app RUN chown -R node:node /app COPY ./files/package.json /app RUN npm i RUN npx playwright install-deps USER node RUN npx playwright install COPY ./files/app.js /app CMD [&#34;node&#34;,&#34;./app.js&#34;] </p>
  </div>
  <footer class="entry-footer"><span title='2025-02-25 10:14:24 +0800 CST'>February 25, 2025</span>&nbsp;Â·&nbsp;0031400</footer>
  <a class="entry-link" aria-label="post link to onedrive google å›¾åºŠ" href="/posts/2/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">from web to docker
    </h2>
  </header>
  <div class="entry-content">
    <p>æœ¬æ•™ç¨‹ä»åŸºæœ¬çš„ç½‘ç»œçŸ¥è¯†è®²èµ·ï¼Œè®²å¦‚æœéƒ¨ç½²ç½‘è·¯äº‘æœåŠ¡ï¼Œé¢å‘å¯¹äº‘æœåŠ¡æœ‰ä¸€å®šå…´è¶£ï¼Œä½†æ˜¯å¯¹è¿™æ–¹é¢æŒæ¡çš„çŸ¥è¯†ä¸å¤šçš„åŒå¿—ã€‚æˆ‘ä½œä¸ºæŒæ¡äº†ä¸€å®šèƒ½åŠ›å’Œç»éªŒçš„äººï¼Œæ¥åˆ†äº«ä¸€ä¸‹æˆ‘çš„çŸ¥è¯†ã€‚
æç¤º æ–‡æœ«æœ‰å…³äºå†…ç½‘ç©¿é€ï¼Œè™šæ‹Ÿä¸»æœºï¼Œvpsï¼Œnat-vpsçš„ä»‹ç»
ä»€ä¹ˆæ˜¯webåº”ç”¨ é¦–å…ˆï¼Œæˆ‘ä»¬ä»webåº”ç”¨å¼€å§‹è®²èµ·ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°ä¸€ä¸ªwebï¼Œåˆ†ä¸¤ä¸ªå¹³å°ï¼Œä¸€ä¸ªæ˜¯å®¢æˆ·ç«¯ï¼Œä¸€ä¸ªæ˜¯æœåŠ¡ç«¯ï¼Œå¦‚æœæ˜¯ç½‘ç«™çš„è¯ï¼Œå®¢æˆ·ç«¯å¤§æ¦‚ç‡æ˜¯ä¸ªæ¸¸è§ˆå™¨ï¼ŒæœåŠ¡ç«¯ç®€å•æ¥è¯´åˆ†ä¸ºä¸‰è¦ç´ ï¼Œä»£ç ï¼Œåº”ç”¨ï¼Œæœºå™¨ã€‚æˆ‘ä»¬å¯ä»¥ç”¨python,nodejs,javaç­‰è¯­è¨€ç¼–å†™webæœåŠ¡å™¨çš„ä»£ç ï¼Œè¿™ä»£ç å°±è´Ÿè´£äº¤ä»£ç½‘ç»œé€šä¿¡çš„é€»è¾‘ï¼Œå¾€ä½ç«¯æ¥è¯´ï¼Œå°±æ˜¯è‡ªåŠ¨åŒ–è„šæœ¬ã€‚åº”ç”¨ï¼Œå°±æ˜¯è¿è¡Œä»£ç çš„å¯æ‰§è¡Œç¨‹åºã€‚æœºå™¨ï¼Œå°±æ˜¯æ‰§è¡Œä»£ç ï¼Œè¿è¡Œåº”ç”¨çš„ç‰©ç†æœºå™¨ï¼Œåˆå«äº‘æœåŠ¡å™¨ã€‚ä¸¾ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå£è¯­åŒ–çš„è¯­è¨€å†™ä¸‹è¿™ä¸ªä»£ç ï¼Œå¦‚æœç”¨æˆ·è®¿é—®ï¼Œæˆ‘ä»¬è¿”å›hello worldï¼Œç„¶åæˆ‘ä»¬åœ¨è‡ªå·±çš„ç¬”è®°æœ¬ç”µè„‘è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œè¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œè¿™ä¸ªç¨‹åºä¸æ˜¯å®ŒæˆæŸä¸ªä»»åŠ¡å°±åœæ­¢äº†ï¼Œè€Œæ˜¯ä¸€ç›´ç­‰å¾…ç”¨æˆ·æ¥è®¿é—®ã€‚æ­¤æ—¶ï¼ŒæœåŠ¡ç«¯å®Œæˆäº†ï¼Œæˆ‘ä»¬æ‰“å¼€æ¸¸è§ˆå™¨ï¼Œè¾“å…¥ipåœ°å€ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è®¡åˆ’ä¸­è¾“å‡ºçš„hello worldäº†ã€‚ç­‰ç­‰ï¼Œä»€ä¹ˆæ˜¯ipåœ°å€ï¼Œæˆ‘æ¥ä¸‹æ¥è®²è®²ã€‚
ä»€ä¹ˆæ˜¯ipåœ°å€ ä¸–ç•Œä¸Šæœ‰å¾ˆå¤šå°æœºå™¨éƒ½åœ¨è¿è¡Œç€webåº”ç”¨ï¼Œä½ æ‰“å¼€æ¸¸è§ˆå™¨åç¬¬ä¸€ä»¶äº‹å¯èƒ½åœ¨æƒ³ï¼Œæˆ‘è¦æ€ä¹ˆè®¿é—®æˆ‘çš„webå‘¢ã€‚ipåœ°å€å°±æ˜¯ä¸ªç›´æ¥çš„å›ç­”ã€‚æˆ‘ä»¬æŠŠæ¯å°æœºå™¨ç”¨ipåœ°å€æ ‡è®°ï¼Œå…ˆè¯´æˆç†Ÿçš„ipv4ï¼Œå¤§æ¦‚æ˜¯å¼ è¿™æ ·çš„ï¼š123:12:85:6ï¼Œå››ä¸ªæ•°å­—ç”±å†’å·ç›¸è¿ï¼Œæ¯ä¸ªæ•°å­—çš„èŒƒå›´æ˜¯0åˆ°255ï¼Œæˆ‘ä»¬åªéœ€åœ¨æ¸¸è§ˆå™¨è¾“å…¥è¿è¡Œwebåº”ç”¨çš„æœºå™¨çš„ipåœ°å€ï¼Œå°±èƒ½è®¿é—®åˆ°æˆ‘ä»¬çš„webäº†ã€‚é‚£ä¹ˆï¼Œæˆ‘çš„ipæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
æŸ¥çœ‹æœ¬æœºipåœ°å€ windowsç³»ç»Ÿåœ¨æ–‡ä»¶ç®¡ç†å™¨å³é”®ï¼Œç‚¹å‡»&#34;åœ¨ç»ˆç«¯æ‰“å¼€&#34;ï¼Œç„¶åä¼šå‡ºç°ä¸€ä¸ªé»‘è‰²çš„åº”ç”¨ï¼Œæˆ‘ä»¬æŠŠå®ƒå«åšç»ˆç«¯ã€‚æˆ‘ä»¬åœ¨ä¸Šé¢è¾“å…¥ipconfigï¼Œå›è½¦ï¼Œç„¶åä¼šè¿”å›å¾ˆå¤šè¡Œï¼Œæœ‰ä¸€è¡Œæ˜¯IPv4 åœ°å€ : 192.168.44.1ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„ipåœ°å€ï¼Œè®©æˆ‘ä»¬åœ¨æ¸¸è§ˆå™¨è¾“å…¥192.168.44.1ï¼Œå°±å¯ä»¥è®¿é—®åˆ°æˆ‘ä»¬çš„webäº†ï¼Œç­‰ç­‰ï¼Œå¥½åƒæœ‰äººåœ¨æ¸¸è§ˆå™¨è¾“å…¥çš„æ˜¯localhostæˆ–è€…æ˜¯127.0.0.1ï¼Œè¿™ä¸¤ä¸ªæ¯”è¾ƒç‰¹æ®Šï¼Œä»–ä»¬ä»£è¡¨æœ¬æœºï¼Œå°±æ˜¯è‡ªå·±è¿™å°ç”µè„‘ã€‚ç„¶åæˆ‘ä»¬å…´å¥‹çš„æŠŠè‡ªå·±çš„ipåœ°å€å‘é€ç»™å¥½æœ‹å‹ï¼ŒæœŸå¾…ä»–ä»¬ä¹Ÿèƒ½çœ‹åˆ°è‡ªå·±çš„æ°ä½œï¼Œç»“æœå¯¹æ–¹è¯´æ ¹æœ¬æ‰“ä¸å¼€ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Œè¿™å°±æ˜¯natæŠ€æœ¯ã€‚
ä»€ä¹ˆæ˜¯nat ä¸Šé¢æˆ‘ä»¬è¯´äº†æ¯å°æœºå™¨éƒ½æœ‰ä¸€ä¸ªipåœ°å€ï¼Œä½†æ˜¯åˆšå‡ºç°ipåœ°å€è¿™ä¸ªä¸œè¥¿è¿˜æ˜¯èƒ½è®©æ¯å°ç”µè„‘éƒ½åˆ†é…åˆ°ä¸€ä¸ªipåœ°å€ï¼Œä½†æ˜¯å¯ä»¥ä¸Šç½‘çš„è®¾å¤‡æ•°é‡å¢åŠ çš„å®åœ¨æ˜¯å¤ªå¿«äº†ï¼Œ2011å¹´å°±å®£å¸ƒipä¸å¤Ÿç”¨äº†ï¼Œå‡ºç°äº†ä¸€ä¸ªæ–¹æ¡ˆï¼Œå°±æ˜¯natæŠ€æœ¯ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¾ˆå¤šå°æœºå™¨å…±ç”¨ä¸€ä¸ªipåœ°å€ï¼Œåœ¨ç°åœ¨å¤§å¤šæ•°çš„å®¶åº­ç¯å¢ƒä¸­ï¼Œä¸€å®¶ï¼Œç”šè‡³ä¸€ä¸ªç¤¾åŒºéƒ½å¯èƒ½åœ¨ç”¨ä¸€ä¸ªipï¼Œé‚£ä¹ˆæˆ‘çš„ç”µè„‘å’Œæˆ‘çš„æ‰‹æœºç”¨çš„æ˜¯åŒä¸€ä¸ªwifiï¼Œæˆ‘å’Œæˆ‘çš„ç”µè„‘çš„ipæ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆæˆ‘è¦æ€ä¹ˆè®¿é—®æˆ‘çš„ç”µè„‘ä¸Šçš„webå‘¢ï¼Œæ–¹æ³•å°±æ˜¯ï¼ŒnatæŠ€æœ¯åˆ†äº†ä¸€éƒ¨åˆ†ipå±äºå†…ç½‘ï¼Œå¤§æ¦‚æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯192å¼€å¤´çš„ï¼Œä¸€ç§æ˜¯10å¼€å¤´çš„ï¼Œå‰è€…å¤§å¤šæ˜¯ä¸ªäººï¼Œå®¶åº­ç½‘ç»œç¯å¢ƒçš„ï¼Œåè€…å¤§å¤šæ˜¯ä¼ä¸šã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Œå°±æ˜¯natæŠ€æœ¯çš„å‡ºç°åˆ’åˆ†äº†å…¬ç½‘å’Œå†…ç½‘ipï¼Œä¸€èˆ¬æ¥è¯´å¾ˆå¤šå°ç”µå­è®¾å¤‡åœ¨å±€åŸŸç½‘ä¸­äº’ç›¸é€šä¿¡æ˜¯å¯ä»¥æ ¹æ®å†…ç½‘ipæ¥è¾¨åˆ«è°æ˜¯è°çš„ï¼Œä½†æ˜¯ä»–ä»¬å…±äº«åŒä¸€ä¸ªå…¬ç½‘ï¼Œåœ¨å’Œå¤–é¢çš„ç½‘ç»œä¸–ç•Œæ²Ÿé€šçš„æ—¶å€™ï¼Œè¿™äº›å¾ˆå¤šå°ç”µå­è®¾å¤‡éƒ½æ˜¯ä¸€ä¸ªå…¬ç½‘åœ°å€ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬çš„192.168.44.1å¹¶ä¸æ˜¯å…¬ç½‘ï¼Œå±€åŸŸç½‘å¤–çš„å°ä¼™ä¼´ï¼Œä»–ä»¬çš„å±€åŸŸç½‘é‡Œé¢çš„192.168.44.1å¹¶ä¸æ˜¯æˆ‘ä»¬ã€‚é‚£ä¹ˆå¯èƒ½æˆ‘ä»¬ç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¸€ä¸ªå…¬ç½‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸Šç½‘çš„èº«ä»½æ˜¯åŒä¸€ä¸ªå—ï¼Œå¬èµ·æ¥æœ‰ç‚¹ç¦»è°±ï¼Œç°åœ¨æˆ‘è§£ç­”è¿™ä¸ªç–‘æƒ‘ï¼Œæœ‰ç«¯å£çš„å­˜åœ¨ã€‚
ä»€ä¹ˆæ˜¯ç«¯å£ æˆ‘ä»¬ä»ä¸€ä¸ªç”Ÿæ´»ä¸­çš„æ¡ˆä¾‹å¼€å§‹è®²ï¼Œæˆ‘åœ¨é€›è®ºå›ï¼ŒåŒæ—¶å¼€ç€å¾®ä¿¡è§†é¢‘èŠå¤©ï¼Œæ‰€ä»¥æˆ‘ç°åœ¨åŒæ—¶æ”¶åˆ°ä¸¤ä¸ªç½‘ç»œä¿¡æ¯ï¼Œä¸ä¼šå µå—ï¼Ÿç¡®å®ä¸ä¼šï¼Œæˆ‘ä»¬çš„ç½‘å¡æœ‰å¾ˆå¤šé—¨ï¼Œå¾®ä¿¡å’Œæ¸¸è§ˆå™¨åªä½¿ç”¨äº†ä¸€ä¸ªé—¨ï¼Œè¿™äº›é—¨å°±æ˜¯ç«¯å£ï¼Œä¸€ä¸ªç½‘å¡æœ‰65536ä¸ªç«¯å£ã€‚å›ç­”ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘å’Œæˆ‘çš„é‚»å±…è™½ç„¶éƒ½æ˜¯å…±äº«ä¸€ä¸ªå…¬ç½‘ï¼Œä½†æ˜¯è¿™ä¸ªå…¬ç½‘æ˜¯æœ‰65536ä¸ªç«¯å£çš„ï¼Œæˆ‘ä»¬ä¸´æ—¶å ç”¨äº†ä¸€ä¸ªç«¯å£ï¼Œæ‰€ä»¥æˆ‘å’Œæˆ‘çš„é‚»å±…è™½ç„¶æ˜¯ä¸€ä¸ªå…¬ç½‘ipï¼Œä½†æ˜¯å®Œå…¨ä¸å¦¨ç¢ã€‚å¥½äº†ï¼Œæˆ‘ä»¬å›å½’æ­£é¢˜ï¼Œæˆ‘è¦æ€ä¹ˆè®©æˆ‘çš„å°ä¼™ä¼´çœ‹åˆ°æˆ‘çš„webå‘¢ï¼Ÿæœ‰ä¸¤æ¡è·¯å¯ä»¥èµ°ï¼Œä¸€ä¸ªæ˜¯åœ¨å±€åŸŸç½‘å†…å­¦ä¹ ç½‘è·¯çŸ¥è¯†ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨äº‘æœåŠ¡å™¨ï¼Œå› ä¸ºäº‘æœåŠ¡å™¨å¤§å¤šæ˜¯ä¸€ä¸ªæœºå™¨ä¸€ä¸ªå…¬ç½‘ipçš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬èµ°è¿›äº‘æœåŠ¡å™¨çš„ä¸–ç•Œã€‚
ä»€ä¹ˆæ˜¯äº‘æœåŠ¡å™¨ äº‘æœåŠ¡å™¨å°±æ˜¯24å°æ—¶ä¸åœè¿è¡Œçš„æœºå™¨ï¼Œè¿™å¾ˆé€‚åˆwebè¿™ç§è¦ä¸€ç›´è¿è¡Œç›‘å¬çš„ä»»åŠ¡ã€‚äº‘æœåŠ¡å™¨ä¸€èˆ¬æ˜¯æ”¾åœ¨æœºæˆ¿é‡Œé¢çš„ï¼Œæœ‰ä¸“é—¨çš„æ•£çƒ­å’Œä¾›ç”µï¼Œç®¡ç†ï¼Œè€Œä¸”å¯ä»¥éš”ç»å™ªéŸ³ã€‚é‚£ä¹ˆè¿™ä¸å°±æ˜¯æˆ‘ä»æ¥æ²¡æ‹”å¼€è¿‡å……ç”µå£çš„ç¬”è®°æœ¬ç”µè„‘å—ï¼Œå°±æ˜¯å¤šäº†ä¸ªå…¬ç½‘ipï¼Ÿå¯¹ï¼Œäº‘æœåŠ¡å™¨å°±æ˜¯ç”µè„‘ï¼Œè€Œä¸”æ˜¯ä¸“é—¨ç”¨äºäº‘æœåŠ¡çš„ç”µè„‘ï¼Œå®ƒå»æ‰äº†å¾ˆå¤šå¯¹äº‘æœåŠ¡æ²¡ç”¨çš„ä¸œè¥¿ï¼Œæ¯”å¦‚æ‘„åƒå¤´ï¼Œé¼ æ ‡ï¼Œé”®ç›˜ï¼Œæ˜¾ç¤ºå™¨ï¼Œå®ƒåªéœ€è¦ç¡¬ç›˜ï¼ŒCPUï¼Œå†…å­˜ï¼Œç”µæºï¼Œç½‘å¡ã€‚ä½†æ˜¯ï¼Œåœ¨è½¯ä»¶æ–¹é¢ï¼Œå®ƒå’Œæˆ‘ä»¬å¤§å¤šæ•°äººç”¨çš„å·®åˆ«å¾ˆå¤§ï¼Œå®ƒå’Œæˆ‘ä»¬ä¸æ˜¯åŒä¸€ç§ç³»ç»Ÿï¼Œå®ƒæ˜¯linux!
ä»€ä¹ˆæ˜¯linux å¤§ä½“æ¥è¯´ï¼Œç”µè„‘ç³»ç»Ÿåˆ†3ç±»ï¼Œå¾®è½¯çš„windowsï¼Œè‹¹æœçš„macosï¼Œè¿˜æœ‰å°±æ˜¯å¼€æºçš„linuxï¼Œè¿˜æœ‰æœ‰äº›linuxä¹Ÿä¸æ˜¯å¼€æºçš„ï¼Œå¯¹çš„ï¼Œlinuxä¸æ˜¯æŒ‡æŸä¸ªç³»ç»Ÿï¼Œå®ƒæ˜¯æŒ‡ä¸€ç±»ç³»ç»Ÿï¼Œæ¯”å¦‚è¯´centos,ubuntu,debian,alpineç­‰ï¼Œä»–ä»¬çš„å…³ç³»å°±æ˜¯æ¥è‡ªäºåŒä¸€ä¸ªç¥–å…ˆï¼Œç„¶åæ¼”åŒ–èµ°äº†ä¸åŒè·¯çº¿ï¼Œä¸“ä¸šåœ°è¯´å°±æ˜¯ï¼Œä½¿ç”¨linuxå†…æ ¸çš„ä¸åŒå‘è¡Œç‰ˆæœ¬ï¼Œæç¤ºä¸€ä¸‹ï¼Œæˆ‘æ¥ä¸‹æ¥è¯´çš„ä¸»è¦ä»¥debianä¸ºä¾‹å­ï¼Œè¿™ä¸ªæ¯”è¾ƒæµè¡Œã€‚linuxå’Œwindows,macoså·®åˆ«éƒ½æœ‰ä»€ä¹ˆå‘¢ï¼Ÿä¸€ä¸ªå·®åˆ«å°±æ˜¯linuxå¤§å¤šæ²¡æœ‰å›¾å½¢åŒ–æ¡Œé¢ï¼Œæˆ‘ä»¬æ§åˆ¶åªèƒ½é€šè¿‡ç»ˆç«¯æ§åˆ¶ï¼Œç­‰ç­‰ï¼Œç»ˆç«¯æ˜¯å‰é¢winé‚£ä¸ªé»‘è‰²çš„çª—å£å—ï¼Ÿå¯¹çš„ï¼Œæ˜¯åŒä¸€ç§ä¸œè¥¿ã€‚é‚£ä¹ˆï¼Œæˆ‘è¦æ€ä¹ˆç”¨ç»ˆç«¯æ§åˆ¶æˆ‘çš„linuxç³»ç»Ÿå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ssh
ä»€ä¹ˆæ˜¯ssh sshæ˜¯è¿œç¨‹è¿æ¥æœºå™¨çš„å·¥å…·ï¼Œæ€ä¹ˆä½¿ç”¨å‘¢ï¼Œæ‰“å¼€æˆ‘ä»¬winçš„ç»ˆç«¯ï¼Œè¾“å…¥ä¸€ä¸‹æŒ‡ä»¤ssh root@12.13.14.15ï¼Œè¿™é‡Œçš„12.13.14.15å°±æ˜¯æˆ‘ä»¬çš„äº‘æœåŠ¡å™¨çš„ipåœ°å€ï¼Œæˆ‘ç°åœ¨ä»¥äº‘æœåŠ¡å™¨ä¸ºä¾‹å­å¼€å§‹è®²ï¼Œä¹Ÿå¯ä»¥è¾“å…¥å±€åŸŸç½‘çš„è£…äº†linuxç³»ç»Ÿçš„ç”µè„‘çš„å†…ç½‘ipï¼Œæˆ‘å…ˆå‘Šè¯‰ä½ ï¼Œè¿™ä¸ªrootæŒ‡çš„æˆ‘ä»¬è¦ä½œä¸ºä»€ä¹ˆç”¨æˆ·æ¥ç™»å½•ï¼Œç›®å‰å…ˆç”¨ç®¡ç†å‘˜ç”¨æˆ·ï¼Œå›è½¦ä¹‹åï¼Œä¼šæç¤º
The authenticity of host &#39;12.13.14.15 (12.13.14.15)&#39; can&#39;t be established. ED25519 key fingerprint is SHA256:pjClvxwCBfsadfbufUmPeUM8tvB/Jw&#43;sIcTsb1rU9A. This key is not known by any other names. Are you sure you want to continue connecting (yes/no/[fingerprint])? æˆ‘ä»¬å¡«yesï¼Œå›è½¦ï¼Œç„¶åä¼šå‡ºç°root@12.13.14.15&#39;s password:ç„¶åæˆ‘ä»¬è¾“å…¥å¯†ç ï¼Œè¿™é‡Œæ³¨æ„ï¼Œæˆ‘ä»¬è¾“å…¥çš„æ˜¯çœ‹ä¸è§çš„ï¼Œè¾“å…¥å®Œå›è½¦å°±å¯ä»¥äº†ï¼Œå‡ºç°root@pc:~$è¿™ç±»å­—å°±è¯´æ˜æˆ‘ä»¬ç™»å½•æˆåŠŸäº†ã€‚ç­‰ç­‰ï¼Œæˆ‘å¥½åƒå¿˜äº†ï¼Œè¦æ€ä¹ˆè·å¾—ä¸€å°è£…äº†linuxç³»ç»Ÿçš„æœºå™¨
ä½¿ç”¨è™šæ‹Ÿæœº æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ç”µè„‘é‡Œé¢è£…ä¸ªè™šæ‹Ÿçš„linuxç³»ç»Ÿï¼Œæˆ‘ä»¬å»bingæœç´¢ä¸€ä¸ªvmwareè£…è™šæ‹Ÿæœºçš„æ•™å­¦å¸–å­çœ‹ä¸€ä¸‹ï¼Œå¾ˆå®¹æ˜“çš„ã€‚
è´­ä¹°äº‘æœåŠ¡å™¨ æˆ–è€…æˆ‘ä»¬å¯ä»¥ç›´æ¥è´­ä¹°äº‘æœåŠ¡å™¨æ¥è¿›è¡Œå­¦ä¹ ï¼Œè¿™å’Œè™šæ‹Ÿæœºæ¥å­¦ä¹ å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œå›½å†…å¤§å‚æœ‰é˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œåä¸ºäº‘ï¼Œå›½å¤–æœ‰ç”²éª¨æ–‡ï¼Œè°·æ­Œï¼Œå¾®è½¯ï¼Œç­‰ç­‰ï¼Œè´­ä¹°çš„æ•™ç¨‹ç½‘ä¸Šä¹Ÿæœ‰ï¼Œä¸è¿‡ï¼Œæ˜“è§ï¼Œè™šæ‹Ÿæœºæ›´æ–¹ä¾¿å­¦ä¹ ã€‚
linuxåŸºæœ¬çŸ¥è¯† åœ¨å­¦ä¹ webå‰ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹å¸¸è§çš„linuxæŒ‡ä»¤
æŒ‡ä»¤ è§£é‡Š pwd æŸ¥çœ‹å½“å‰ç›®å½•ä½ç½® ls åˆ—å‡ºå½“å‰ç›®å½• cd ç›®å½• è¿›å…¥æŸä¸ªç›®å½• rm æ–‡ä»¶ åˆ é™¤æ–‡ä»¶ rm -f ç©ºæ–‡ä»¶å¤¹ åˆ é™¤ç©ºæ–‡ä»¶å¤¹ rm -rf æ–‡ä»¶å¤¹ åˆ é™¤æ–‡ä»¶å¤¹ mv æºæ–‡ä»¶æˆ–æºæ–‡ä»¶å¤¹ ç›®çš„åœ° ç§»åŠ¨æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ touch æ–‡ä»¶ æ–°å»ºç©ºç™½æ–‡ä»¶ mkdir ç›®å½• åˆ›å»ºç›®å½• cat æ–‡ä»¶ æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ ç„¶åæˆ‘ä»¬éœ€è¦æŒæ¡ç¼–è¾‘æ–‡æœ¬çš„èƒ½åŠ›ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œå­¦ä¼švim/viï¼Œä½¿ç”¨ftpï¼Œåœ¨è‡ªå·±ç”µè„‘ç¼–è¾‘å¥½æ–‡ä»¶ï¼Œå†ä¸Šä¼ åˆ°linux
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-02-08 10:14:24 +0800 CST'>February 8, 2025</span>&nbsp;Â·&nbsp;0031400</footer>
  <a class="entry-link" aria-label="post link to from web to docker" href="/posts/1/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="/">0031400&#39;s blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
